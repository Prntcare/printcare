<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PrintCare</title>
<style>
    body { margin:0; font-family: Arial, sans-serif; background-color:#111; color:#fff; }
    a { color:#fff; text-decoration:none; }
    header { text-align:center; position:relative; }
    header img { width:150px; margin-top:20px; }
    header .hero { background: url('slider1.jpg') center/cover no-repeat; padding:120px 20px 60px; }
    header h1 { font-size:3rem; margin:0; text-shadow:0 0 10px #000; }
    header p { font-size:1.5rem; margin-top:10px; text-shadow:0 0 8px #000; }

    nav { display:flex; justify-content:center; gap:20px; margin:20px 0; }
    nav a { padding:10px 20px; border:1px solid #fff; border-radius:5px; transition:0.3s; }
    nav a:hover { background-color:#fff; color:#111; }

    section { padding:50px 20px; max-width:1200px; margin:0 auto; }
    h2 { font-size:2rem; border-bottom:2px solid #fff; display:inline-block; margin-bottom:30px; }

    .services, .tools { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
    .service-card, .tool-card { background-color:#222; padding:30px 20px; border-radius:15px; flex:1 1 250px; text-align:center; cursor:pointer; transition:0.3s; }
    .service-card:hover, .tool-card:hover { background-color:#333; }

    .gallery { display:grid; grid-template-columns:repeat(auto-fit, minmax(180px, 1fr)); gap:20px; }
    .gallery img { width:100%; border-radius:15px; cursor:pointer; transition:0.3s; }
    .gallery img:hover { transform:scale(1.05); }

    .contact { display:flex; flex-direction:column; gap:20px; align-items:center; }
    .contact a { display:inline-block; background-color:#222; padding:15px 20px; border-radius:8px; transition:0.3s; }
    .contact a:hover { background-color:#fff; color:#111; }
    .contact iframe { border:0; border-radius:10px; margin-top:20px; }

    .admin { display:none; flex-direction:column; gap:15px; background-color:#222; padding:20px; border-radius:10px; }
    .admin input, .admin button { padding:10px; border-radius:5px; border:none; width:100%; }
    .admin button { background-color:#fff; color:#111; cursor:pointer; }

    #ai-widget { position:fixed; bottom:20px; right:20px; background-color:#222; padding:15px; border-radius:10px; width:250px; display:flex; flex-direction:column; gap:10px; }
    #ai-widget textarea { width:100%; height:80px; padding:5px; border-radius:5px; border:none; resize:none; }
    #ai-widget button { padding:8px; border-radius:5px; border:none; background-color:#fff; color:#111; cursor:pointer; }
    #ai-response { max-height:200px; overflow-y:auto; padding:5px; background-color:#111; border-radius:5px; font-size:0.9rem; color:#fff; line-height:1.4; }

    footer { text-align:center; padding:20px; background-color:#111; color:#bbb; font-size:0.9rem; }

    @media(max-width:768px){ header h1 { font-size:2rem; } header p { font-size:1.2rem; } nav { flex-direction:column; } }
</style>
</head>
<body>
<header>
    <img src="logo.png" alt="PrintCare Logo" id="logo">
    <div class="hero">
        <h1>PrintCare</h1>
        <p>Your one-stop printing solution</p>
    </div>
</header>
<nav>
    <a href="#services">Services</a>
    <a href="#tools">Tools</a>
    <a href="#gallery">Gallery</a>
    <a href="#contact">Contact</a>
</nav>
<section id="services">
    <h2>Our Services</h2>
    <div class="services">
        <div class="service-card">Printing</div>
        <div class="service-card">Designing</div>
        <div class="service-card">Packaging</div>
        <div class="service-card">Custom Solutions</div>
    </div>
</section>
<section id="tools">
    <h2>Our Tools</h2>
    <div class="tools">
        <div class="tool-card">Preeti ↔ Unicode</div>
        <div class="tool-card">Image → PDF</div>
        <div class="tool-card">Word → PDF</div>
        <div class="tool-card">Image Compressor</div>
        <div class="tool-card">CV Builder</div>
        <div class="tool-card">Date Converter</div>
    </div>
</section>
<section id="gallery">
    <h2>Gallery</h2>
    <div class="gallery" id="gallery-container">
        <img src="gallery1.jpg" alt="Gallery Image 1">
        <img src="gallery2.jpg" alt="Gallery Image 2">
        <img src="gallery3.jpg" alt="Gallery Image 3">
    </div>
</section>
<section id="contact">
    <h2>Contact Us</h2>
    <div class="contact">
        <a href="https://wa.me/1234567890" target="_blank">WhatsApp Us</a>
        <a href="https://m.me/yourpage" target="_blank">Messenger</a>
        <a href="mailto:info@printcare.com.np">Email Us</a>
        <!-- Mini Google Map -->
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3532.9121532217676!2d85.18553731507261!3d27.181337183160056!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39eb59a9cda0ece5%3A0x35b2367e38096b08!2sPrint%20Care!5e0!3m2!1sen!2snp!4v1700000000000!5m2!1sen!2snp" width="300" height="200" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
</section>
<section class="admin" id="admin-panel">
    <h2>Admin Dashboard</h2>
    <input type="file" id="upload-logo" accept="image/*">
    <input type="file" id="upload-gallery" accept="image/*" multiple>
    <button id="save-changes">Save Changes</button>
</section>
<div id="ai-widget">
    <textarea placeholder="Ask me anything..."></textarea>
    <button id="send-ai">Send</button>
    <div id="ai-response"></div>
</div>
<footer>
    &copy; 2025 PrintCare. All rights reserved.
</footer>
<script>
// Slider Logic
let slideIndex=0;
const slides=document.querySelectorAll('.slides img');
function showSlides(){slides.forEach(img=>img.style.display='none');slideIndex++;if(slideIndex>slides.length)slideIndex=1;slides[slideIndex-1].style.display='block';setTimeout(showSlides,4000);}
showSlides();

// Gallery Lightbox
const galleryContainer=document.getElementById('gallery-container');
galleryContainer.addEventListener('click',e=>{if(e.target.tagName==='IMG')window.open(e.target.src,'_blank');});

// Admin Uploads (Permanent via Cloudinary)
const logoInput=document.getElementById('upload-logo');
logoInput.addEventListener('change',e=>{
  const file=e.target.files[0];
  if(file){
    const formData=new FormData();
    formData.append('file',file);
    formData.append('upload_preset','YOUR_UPLOAD_PRESET'); // Set in Cloudinary
    fetch('https://api.cloudinary.com/v1_1/YOUR_CLOUD_NAME/image/upload',{method:'POST',body:formData})
    .then(res=>res.json())
    .then(data=>{document.getElementById('logo').src=data.secure_url;})
    .catch(err=>console.error('Logo upload error',err));
  }
});

const galleryInput=document.getElementById('upload-gallery');
galleryInput.addEventListener('change',e=>{
  Array.from(e.target.files).forEach(file=>{
    const formData=new FormData();
    formData.append('file',file);
    formData.append('upload_preset','YOUR_UPLOAD_PRESET');
    fetch('https://api.cloudinary.com/v1_1/YOUR_CLOUD_NAME/image/upload',{method:'POST',body:formData})
    .then(res=>res.json())
    .then(data=>{
      const img=document.createElement('img');
      img.src=data.secure_url;
      galleryContainer.appendChild(img);
      img.addEventListener('click',()=>window.open(img.src,'_blank'));
    })
    .catch(err=>console.error('Gallery upload error',err));
  });
});

const saveBtn=document.getElementById('save-changes');
saveBtn.addEventListener('click',()=>{alert('Changes applied successfully!');});

// AI Widget
const sendBtn=document.getElementById('send-ai');
const aiTextarea=document.querySelector('#ai-widget textarea');
const aiResponse=document.getElementById('ai-response');
sendBtn.addEventListener('click',async()=>{
  const prompt=aiTextarea.value.trim();
  if(!prompt) return;
  aiResponse.innerHTML+=`<p><strong>You:</strong> ${prompt}</p>`;
  aiTextarea.value='';
  const thinkingPara=document.createElement('p');
  thinkingPara.innerHTML='<strong>AI:</strong> Thinking...';
  aiResponse.appendChild(thinkingPara);
  aiResponse.scrollTop=aiResponse.scrollHeight;
  try{
    const res=await fetch('/ai',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({prompt})});
    const data=await res.json();
    const reply=data.choices?.[0]?.message?.content||'No response';
    thinkingPara.innerHTML=`<strong>AI:</strong> ${reply}`;
    aiResponse.scrollTop=aiResponse.scrollHeight;
  }catch(err){thinkingPara.innerHTML='<strong>AI:</strong> Error connecting to AI.'; aiResponse.scrollTop=aiResponse.scrollHeight;}
});
</script>
</body>
</html>
